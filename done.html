<head>
  <title>Done</title>
  <meta name="viewport" content="initial-scale = 1, user-scalable = no">
</head>

<body>
  <div class="wrapper">
    <div class="question-wrapper">
      {{> question}}
    </div>
    {{#if currentUser}}
      <div class="history">
        {{> today}}
        {{> yesterday}}
      </div>
    {{/if}}
  </div>
</body>

<template name="question">
  <div class="question block">
    <h1 data-fit-text>It's {{currentTime}} on {{currentDay}}. Just now I...</h1>
    {{#if currentUser}}
      <div class="input-container{{#if taskAdded}} tada{{/if}}">
        <input type="text" id="new_task_verb" placeholder="verbed...">
        <input type="text" id="new_task_object" placeholder="...an object">
      </div>
    {{else}}
      {{> loginButtons}}
    {{/if}}
  </div>
</template>

<template name="today">
  <div class="today block">
    {{#if task.count}}
      <ul class="block-list">
        <li class="block-list-item">
          <strong>Today</strong> I
        </li>
        {{#each task}}
          {{> taskItem}}
        {{/each}}
      </ul>
    {{else}}
      <strong>Today</strong> I didn't do anything.
    {{/if}}
  </div>
</template>

<template name="yesterday">
  <div class="yesterday block">
    {{#if task.count}}
      <ul class="block-list">
        <li class="block-list-item">
          <strong>Yesterday</strong> I
        </li>
        {{#each task}}
          {{> taskItem}}
        {{/each}}
      </ul>
    {{else}}
      <strong>Yesterday</strong> I didn't do anything.
    {{/if}}
  </div>
</template>

<template name="taskItem">
  <li class="block-list-item">
    {{taskVerb}} {{taskObject}}
  </li>
</template>
